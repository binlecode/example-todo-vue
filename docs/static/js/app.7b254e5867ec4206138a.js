webpackJsonp([1],{"49vC":function(t,e){},"9M+g":function(t,e){},LYqa:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});o("qb6w"),o("9M+g");var n=o("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),e("router-view")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"header"}},[e("h1",[this._v("todos")])])}]};var r=o("VU/8")({name:"App"},i,!1,function(t){o("dgjG")},null,null).exports,s=o("/ocq"),a=o("Gu7T"),c=o.n(a),d=o("Xxa5"),l=o.n(d),u=o("exGp"),p=o.n(u),f={name:"Todo",props:{todo:Object},data:function(){return{origTodoTitle:null,inputTodoTitle:this.todo.title}},computed:{inputTodo:{get:function(){return this.todo.title}}},methods:{editTodo:function(){this.origTodoTitle=this.todo.title,this.$emit("edit-todo",this.todo)},doneEditTodo:function(){console.log("input todo title: "+this.inputTodoTitle),this.$emit("done-edit-todo",{id:this.todo.id,title:this.inputTodoTitle}),this.origTodoTitle=null},cancelEditTodo:function(){this.$emit("cancel-edit-todo",{id:this.todo.id,origTitle:this.origTodoTitle}),this.inputTodoTitle=this.origTodoTitle,this.origTodoTitle=null}},directives:{"todo-focus":function(t,e){e.value&&t.focus()}}},h={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{},[o("div",{staticClass:"view"},[o("label",{staticClass:"checkbox-label",attrs:{for:"cb-"+t.todo.id}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.completed,expression:"todo.completed"}],attrs:{id:"cb-"+t.todo.id,type:"checkbox"},domProps:{checked:Array.isArray(t.todo.completed)?t._i(t.todo.completed,null)>-1:t.todo.completed},on:{click:function(e){return t.$emit("toggle-todo-complete",t.todo.id)},change:function(e){var o=t.todo.completed,n=e.target,i=!!n.checked;if(Array.isArray(o)){var r=t._i(o,null);n.checked?r<0&&t.$set(t.todo,"completed",o.concat([null])):r>-1&&t.$set(t.todo,"completed",o.slice(0,r).concat(o.slice(r+1)))}else t.$set(t.todo,"completed",i)}}}),t._v(" "),o("span",{staticClass:"checkmark"})]),t._v(" "),o("p",{staticClass:"todo-details"},[o("span",{class:{completed:t.todo.completed},on:{dblclick:t.editTodo}},[t._v(t._s(t.todo.title))]),t._v(" "),t.todo.tags?o("span",[t._v("\n        |\n        "),t._l(t.todo.tags,function(e){return o("span",{key:e},[o("a",{attrs:{href:"#"}},[o("span",{staticClass:"badge"},[t._v(t._s(e))])]),t._v("\n          |\n        ")])})],2):t._e()]),t._v(" "),o("span",{staticClass:"pull-right"},[o("button",{staticClass:"btn btn-xs btn-outline-danger btn-rm-todo",on:{click:function(e){return t.$emit("delete-todo",t.todo.id)}}},[t._v("\n      x\n      ")])])]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputTodoTitle,expression:"inputTodoTitle",modifiers:{trim:!0}},{name:"todo-focus",rawName:"v-todo-focus",value:null!=t.origTodoTitle,expression:"origTodoTitle != null"}],staticClass:"edit",attrs:{type:"text"},domProps:{value:t.inputTodoTitle},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doneEditTodo(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelEditTodo(e)}],input:function(e){e.target.composing||(t.inputTodoTitle=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])},staticRenderFns:[]};var v=o("VU/8")(f,h,!1,function(t){o("LYqa")},null,null).exports,m=o("mvHQ"),g=o.n(m),T=o("BO1k"),x=o.n(T),k=o("//Fk"),w=o.n(k),b=o("kFye"),_={listTodos:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p()(l.a.mark(function o(){var n,i;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=C(),!e.q){t.next=4;break}return i=n.filter(function(t){return t.title.toLowerCase().includes(e.q.toLowerCase())}),t.abrupt("return",w.a.resolve({data:i,headers:{"x-total-count":i.length}}));case 4:return t.abrupt("return",w.a.resolve({data:n,headers:{"x-total-count":n.length}}));case 5:case"end":return t.stop()}},o,t)}))()},insertTodo:function(t){var e=this;return p()(l.a.mark(function o(){var n,i,r,s,a,c,d,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=C(),i={id:Object(b.a)(),title:t.title,completed:t.completed},n.unshift(i),r=!0,s=!1,a=void 0,e.prev=6,c=x()(n);!(r=(d=c.next()).done);r=!0)u=d.value,console.log("ls todo id: "+u.id);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),s=!0,a=e.t0;case 14:e.prev=14,e.prev=15,!r&&c.return&&c.return();case 17:if(e.prev=17,!s){e.next=20;break}throw a;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return M(n),e.abrupt("return",w.a.resolve({data:i}));case 24:case"end":return e.stop()}},o,e,[[6,10,14,22],[15,,17,21]])}))()},patchTodo:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p()(l.a.mark(function n(){var i,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=C(),r=i.find(function(e){return e.id===t})){e.next=4;break}return e.abrupt("return",w.a.reject(new Error("todo not round by id"+t)));case 4:return o.title&&(r.title=o.title),null!=o.completed&&(r.completed=o.completed),M(i),e.abrupt("return",w.a.resolve({data:r}));case 8:case"end":return e.stop()}},n,e)}))()},deleteTodo:function(t){var e=this;return p()(l.a.mark(function o(){var n,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(),i=n.filter(function(e){return e.id!==t}),M(i),e.abrupt("return",w.a.resolve(null));case 4:case"end":return e.stop()}},o,e)}))()}},y=[{id:1,title:"Read a book",completed:!1},{id:2,title:"Brew a cup of coffee",completed:!0},{id:3,title:"Water plants"}],C=function(){return localStorage.getItem("todos")?JSON.parse(localStorage.getItem("todos")):y},M=function(t){localStorage.setItem("todos",g()(t))},E={name:"todoList",components:{Todo:v},computed:{filteredTodos:function(){return"active"===this.visibility?this.todos.filter(function(t){return!0!==t.completed}):"completed"===this.visibility?this.todos.filter(function(t){return!0===t.completed}):this.todos}},props:{},data:function(){return{imgUrl:"https://source.unsplash.com/800x600/?coffee",imgCategories:["office","nature","travel","food","space","tennis"],visibility:"all",newTodo:"",searchMode:!1,editedTodo:null,todos:[],total:0,listOptions:{page:1,limit:6,sort:"createdAt",order:"desc"}}},created:function(){this.listTodos()},methods:{changeBgPic:function(t){var e=Math.floor(Math.random()*this.imgCategories.length);console.log("change bg pic to category: "+this.imgCategories[e]),this.imgUrl="https://source.unsplash.com/800x600/?"+this.imgCategories[e]},setVisibility:function(t){this.visibility=t},editTodo:function(t){this.editedTodo=t},cancelEditTodo:function(t){this.editedTodo=null},toggleSearchMode:function(t){this.searchMode=!this.searchMode,this.$refs.inputTextBar.focus()},onTextBarInputEnter:function(t){console.log("catch text bar enter, search mode: "+this.searchMode),this.searchMode?this.searchTodoNew():this.addTodo()},onPgChange:function(t){console.log("changing page to "+t),this.listOptions.page=t,this.searchMode?this.searchTodo():this.listTodos()},searchTodoNew:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t.listOptions.page=1,o.next=3,t.searchTodo(e);case 3:case"end":return o.stop()}},o,t)}))()},searchTodo:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log("searching todo with q: "+t.newTodo),e.q=t.newTodo,o.next=4,t.listTodos(e);case 4:case"end":return o.stop()}},o,t)}))()},listTodos:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p()(l.a.mark(function o(){var n,i,r;return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:for(i in n={_limit:e.limit||t.listOptions.limit,_page:e.page||t.listOptions.page,_sort:e.sort||t.listOptions.sort,_order:e.order||t.listOptions.order},e.q&&(n.q=e.q),console.log("list todos with params:"),n)console.log(i+" => "+n[i]);return o.next=6,_.listTodos(n);case 6:r=o.sent,t.todos=r.data,t.total=r.headers["x-total-count"];case 9:case"end":return o.stop()}},o,t)}))()},addTodo:function(){var t=this;return p()(l.a.mark(function e(){var o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.newTodo){e.next=6;break}return e.next=3,_.insertTodo({title:t.newTodo,completed:!1});case 3:(o=e.sent)&&(t.todos=[o.data].concat(c()(t.todos)),t.total+=1),t.newTodo="";case 6:case"end":return e.stop()}},e,t)}))()},toggleTodoComplete:function(t){var e=this;return p()(l.a.mark(function o(){var n;return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log("toggle todo: "+t),(n=e.todos.find(function(e){return e.id===t})).completed=!n.completed,o.next=5,_.patchTodo(t,{completed:n.completed});case 5:case"end":return o.stop()}},o,e)}))()},doneEditTodo:function(t){var e=this;return p()(l.a.mark(function o(){var n;return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log("update todo "+t.id+" with title: "+t.title),(n=e.todos.find(function(e){return e.id===t.id})).title=t.title,o.next=5,_.patchTodo(n.id,{title:n.title});case 5:e.editedTodo=null;case 6:case"end":return o.stop()}},o,e)}))()},deleteTodo:function(t){var e=this;return p()(l.a.mark(function o(){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,_.deleteTodo(t);case 2:return o.next=4,e.listTodos();case 4:case"end":return o.stop()}},o,e)}))()},clearCompleted:function(){},clearAll:function(){}}},O={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{style:{background:"#222 url("+t.imgUrl+") "},attrs:{id:"cover"}},[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-xl-5 col-lg-6 col-md-8 col-sm-10 mx-auto form p-4 todo-form text-white"},[o("div",{staticClass:"input-group-lg",attrs:{id:"todo-text-bar"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodo,expression:"newTodo"}],ref:"inputTextBar",staticClass:"form-control",attrs:{type:"text",name:"title",placeholder:this.searchMode?"Search Todo":"Enter New Todo"},domProps:{value:t.newTodo},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onTextBarInputEnter(e)},input:function(e){e.target.composing||(t.newTodo=e.target.value)}}}),t._v(" "),o("a",{staticClass:"search-icon",class:{"search-mode":this.searchMode},attrs:{href:"#"},on:{click:t.toggleSearchMode}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchMode,expression:"searchMode"}],staticStyle:{display:"none"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.searchMode)?t._i(t.searchMode,null)>-1:t.searchMode},on:{change:function(e){var o=t.searchMode,n=e.target,i=!!n.checked;if(Array.isArray(o)){var r=t._i(o,null);n.checked?r<0&&(t.searchMode=o.concat([null])):r>-1&&(t.searchMode=o.slice(0,r).concat(o.slice(r+1)))}else t.searchMode=i}}}),t._v(" "),o("b-icon-search")],1)]),t._v(" "),o("div",[o("ul",{staticClass:"todo-list",attrs:{id:"todo-list"}},t._l(t.filteredTodos,function(e){return o("li",{key:e.id,staticClass:"list-group-item",class:{editing:e==t.editedTodo}},[o("Todo",{attrs:{todo:e},on:{"delete-todo":t.deleteTodo,"toggle-todo-complete":t.toggleTodoComplete,"edit-todo":t.editTodo,"done-edit-todo":t.doneEditTodo,"cancel-edit-todo":t.cancelEditTodo}})],1)}),0)]),t._v(" "),t.total>t.listOptions.limit?o("div",{staticClass:"overflow-auto"},[o("b-pagination",{staticStyle:{background:"transparent"},attrs:{id:"todo-pagination","total-rows":t.total,"per-page":t.listOptions.limit,"aria-controls":"todo-list",align:"fill"},on:{change:t.onPgChange},model:{value:t.listOptions.page,callback:function(e){t.$set(t.listOptions,"page",e)},expression:"listOptions.page"}})],1):t._e(),t._v(" "),o("footer",{staticClass:"footer"},[o("ul",{staticClass:"filters"},[o("li",[o("a",{class:{selected:"all"==t.visibility},attrs:{href:"#"},on:{click:function(e){return t.setVisibility("all")}}},[t._v("All")])]),t._v(" "),o("li",[o("a",{class:{selected:"active"==t.visibility},attrs:{href:"#"},on:{click:function(e){return t.setVisibility("active")}}},[t._v("Active")])]),t._v(" "),o("li",[o("a",{class:{selected:"completed"==t.visibility},attrs:{href:"#"},on:{click:function(e){return t.setVisibility("completed")}}},[t._v("Completed")])]),t._v(" "),o("li",{staticClass:"change-bg"},[o("a",{attrs:{href:"#"},on:{click:t.changeBgPic}},[t._v("bg")])])])])])])])])},staticRenderFns:[]};var A=o("VU/8")(E,O,!1,function(t){o("49vC")},null,null).exports;n.default.use(s.a);var $=new s.a({routes:[{path:"/",name:"ExampleTodo",component:A}]}),q=o("Tqaz");n.default.use(q.a),n.default.use(q.b),n.default.config.productionTip=!1,new n.default({el:"#app",router:$,components:{App:r},template:"<App/>"})},dgjG:function(t,e){},qb6w:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7b254e5867ec4206138a.js.map